<%@page import="com.KoreaIT.kjs.demo.vo.Rq"%>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html>
<head data-theme="light">
<meta charset="UTF-8">
<title>${pageTitle }</title>

<!-- í…Œì¼ìœˆë“œ ë¶ˆëŸ¬ì˜¤ê¸°(ë…¸ë§ë¼ì´ì¦ˆ, ë¼ì´ë¸ŒëŸ¬ë¦¬ê¹Œì§€) -->
<!-- <script src="https://unpkg.com/tailwindcss-jit-cdn"></script> -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- ë°ì´ì§€ UI -->
<link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.css" rel="stylesheet" type="text/css" />

<!-- í°íŠ¸ì–´ì¸ ë¶ˆëŸ¬ì˜¤ê¸° -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">

<!-- ì œì´ì¿¼ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸° -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

<!-- í…Œë§ˆ ê´€ë ¨ -->
<script>
function Theme__toggle() {
	const theme = localStorage.getItem("theme") ?? "light";

	if( theme == 'light'){
		localStorage.setItem("theme","dark");
		//Theme__applyTo('dark');
	}
	else {
	    localStorage.setItem("theme", "light");
	    //Theme__applyTo('light');
	}

	function Theme__applyTo(themeName) {
		  $('html').attr('data-theme', themeName);
	}


	function Theme__init() {
	  const theme = localStorage.getItem("theme") ?? "light";
	  Theme__applyTo(theme);
	}

	//Theme__init();
	location.reload();

}
function Theme__applyTo(themeName) {
	  $('html').attr('data-theme', themeName);
	}

	function Theme__init() {
	  const theme = localStorage.getItem("theme") ?? "light";
	  Theme__applyTo(theme);
	}

	Theme__init();
</script>

<link rel="stylesheet" href="/resource/common.css" />
<link rel="shortcut icon" href="/resource/favicon.ico" />
<script src="/resource/common.js" defer="defer"></script>
</head>


<body>

	<header>
		<div class="h-20 flex container mx-auto text-2xl">
			<a href="/" class=" flex items-center px-3">
				<span>ë¡œê³ </span>
			</a>

			<div class="flex-grow"></div>
			
			<ul class="flex">
				<li class="">
					<a class="h-full px-3 flex items-center btn-theme-toggle" href="javascript:Theme__toggle();">
						<span>ğŸŒ</span>
						<span>ğŸŒš</span>
					</a>
				</li>
				<li>
					<a class="h-full px-3 flex items-center hover:underline" href="/">
						<span>HOME</span>
					</a>
				</li>
				<li class="group">
					<a class="h-full px-3 flex items-center hover:underline" href="/usr/article/list">
						<span>LIST</span>
					</a>
					<ul class="z-2 hidden group-hover:block absolute bg-white">
						<li>
							<a href="/usr/article/list?boardId=1" class="hover:underline">NOTICE</a>
						</li>
						<li>
							<a href="/usr/article/list?boardId=2" class="hover:underline">FREE</a>
						</li>
						<li>
							<a href="/usr/article/list?boardId=3" class="hover:underline">QnA</a>
						</li>
					</ul>
				</li>
				<c:if test="${rq.logined }">
					<li class="hover:underline">
						<a class="h-full px-3 flex items-center" href="/usr/member/myPage">
							<span>MYPAGE</span>
						</a>
					</li>
				</c:if>
				<c:if test="${!rq.logined }">
					<li class="hover:underline">
						<a class="h-full px-3 flex items-center" href="${rq.loginUri }">
							<span>LOGIN</span>
						</a>
					</li>
				</c:if>
				<c:if test="${rq.logined }">
					<li>
						<a class="h-full px-3 flex items-center" href="${rq.logoutUri }">
							<span>LOGOUT</span>
						</a>
					</li>
				</c:if>
				<c:if test="${!rq.logined}">
					<li class="hover:underline">
						<a class="h-full px-3 flex items-center" href="${rq.joinUri }">
							<span>JOIN</span>
						</a>
					</li>
				</c:if>
				<li class="hover:underline">
					<a class="h-full px-3 flex items-center" href="/usr/home/APITest4">
						<span>API</span>
					</a>
				</li>
			</ul>
		</div>
	</header>

	<section class="my-3 text-md">
		<div class="container mx-auto px-3">
			<h1>${pageTitle }&nbsp;PAGE</h1>
		</div>
		<div class="container mx-auto px-3">
			<c:if test="${rq.isLogined() }">
			í˜„ì¬ ì ‘ì† ì¤‘ì¸ íšŒì› - ${rq.getLoginedMember().getNickname() }
			<%-- 					<% HttpServletRequest req;
						Rq rq = (Rq) req.getAttribute("rq");
						int loginedMemberId = (int) rq.getLoginedMemberId();
					%>
					<%=loginedMemberId %> --%>
			</c:if>
			<c:if test="${!rq.isLogined() }">
			ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.
			</c:if>
		</div>
	</section>
	<main>